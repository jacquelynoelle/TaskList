<main>
  <h2>All Tasks</h2>
  <% count = 1 %>
  <% @tasks.each do |task| %>
    <article>
      <h3>
        <%= "#{count}. " %><%= link_to "#{task.name}", task_path(task.id), method: :get %>
      </h3>
      <sub>
        <% if task.completion_date.nil? %>
          <% complete_action = "Mark Complete" %>
        <% else task.completion_date.nil? %>
          <% complete_action = "Unmark Complete" %>
        <% end <%>
        <%= link_to complete_action, mark_task_complete_path(task.id), method: :patch %> |
        <%= link_to "Edit", edit_task_path(task.id), method: :get %> |
        <%= link_to "Delete", delete_task_path(task.id), method: :delete, data: {confirm: 'Are you sure?'} %>
      </sub>
    </article>
    <% count += 1 %>
  <% end %>
</main>
